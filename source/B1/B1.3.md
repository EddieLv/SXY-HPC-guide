## 计算机基础知识

### 核心与线程

**核心(Core)**

核心是CPU的物理运算单元，代表硬件层面的并行处理能力。双核处理器内置两组完全独立的运算核心，可同步执行不同指令；四核则集成四组独立核心单元，依此类推实现更强的多任务处理性能。每个物理核心都具备完整的指令执行单元和缓存体系，构成芯片级并行计算的基础架构。

**线程(Thread)**

线程是操作系统调度的逻辑运算单元，通过超线程(Hyper-Threading)技术可将单个物理核心虚拟为多个逻辑处理器。例如支持超线程的双核CPU可呈现4个逻辑核心，使操作系统能更精细地分配计算任务。这种虚拟化技术基于线程级并行(TLP)原理，通过复用核心的闲置运算资源提升执行效率，在系统监控工具中会显示为倍增的逻辑处理器数量。



### 并发与并行

**并发(Concurrency)**

并发的本质是通过任务调度机制实现的伪并行，其核心特征在于多个任务在单个计算单元上交替执行。操作系统通过**时间片轮转**(Round-Robin Scheduling)和**上下文切换**(Context Switching)技术，将CPU运算时间切割为毫秒级片段，使多个进程/线程在用户感知层面呈现"同时运行"的假象。这种逻辑并行性依赖于系统对计算资源的高效调度能力。

**并行(Parallelism)**

并行则是物理层面的真并发，通过多核处理器架构或分布式计算节点实现指令级同步执行。当任务被分配到不同物理核心时，每个核心可独立完成完整的指令流水线操作，无需上下文切换即可实现空间维度的并发计算。这种硬件级的并行处理能力是提升计算密度的根本途径。



### 使用的线程数越多，运算速度越快吗？

并不是设定程序使用的线程数越多，速度越快。因为时间片的切换是有代价的。一个程序使用CPU后，都是要保留自己的现场，然后让出CPU给其它程序使用。其它程序使用完毕后，这个程序再把现场恢复回来。

这就像一家有2个厨师餐厅里，接2-4单时他们能专注炒菜，并且切换（2核CPU处理2-4线程）。但若强行接10单（开10线程），厨师就得不停在灶台间狂奔：刚记下A锅的火候（保存寄存器数据），跑去B锅翻炒两下（加载新线程），又被迫切换到C锅（上下文切换），真正炒菜的时间反而所剩无几。CPU把大量时间浪费在轮流保存每个线程的进度状态上，导致实际运算时间被压缩。

<span style="color: red">建议：线程数设定在4-8线程之间较为合理。</span>



### 为什么有的任务在服务器跑没有个人电脑快？

**服务器：**

服务器搭载多颗高性能处理器，具有多线程并行计算能力，搭配TB级别的运行内存，可同时运行大量的任务。

**个人电脑：**

专为个人需求打造，搭配<span style="color: red">高主频低线程CPU</span>，<span style="color: red">高速小容量硬盘</span>，能在短时间完成一些<span style="color: red">小型任务</span>。



服务器和个人电脑，本身就是不同的设计。<span style="color: red">服务器就像大巴车一样，</span>有更大的空间能够搭载更多的人，具备大内存能够同时运行更多任务，并保证稳定运行。<span style="color: red">而个人电脑就像跑车一样，</span>追求极速，能够快速的做出响应和得到结果，但是却牺牲了线程数，并且内存也无法像服务器一样巨大，能够满足千万级生信数据的分析。
